<!DOCTYPE html>

<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>DocuMind LM - Document Analysis</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
            font-size: 20px;
        }
        
        @keyframes pulse-dot {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blinkCursor {
            0%, 50% { border-right-color: transparent; }
            51%, 100% { border-right-color: currentColor; }
        }
        
        @keyframes bounceAvatar {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-100px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }
        
        @keyframes slideInFromRight {
            from {
                opacity: 0;
                transform: translateX(100px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }
        
        @keyframes messageTypewriter {
            from { 
                width: 0; 
                opacity: 0.7;
            }
            to { 
                width: 100%; 
                opacity: 1;
            }
        }
        
        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(10deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.1) rotate(-5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-3deg); }
            75% { transform: rotate(3deg); }
        }
        
        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes textReveal {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes avatarPulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.2);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);
            }
        }
        
        @keyframes messageSlideIn {
            0% {
                opacity: 0;
                transform: translateY(20px) rotateX(90deg);
            }
            50% {
                opacity: 0.8;
                transform: translateY(-5px) rotateX(45deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg);
            }
        }
        
        .animate-pulse-dot-1 { animation: pulse-dot 1.4s infinite; animation-delay: 0s; }
        .animate-pulse-dot-2 { animation: pulse-dot 1.4s infinite; animation-delay: 0.2s; }
        .animate-pulse-dot-3 { animation: pulse-dot 1.4s infinite; animation-delay: 0.4s; }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.8s ease-out;
        }
        
        .animate-slideInLeft {
            animation: slideInLeft 0.6s ease-out;
        }
        
        .animate-slideInRight {
            animation: slideInRight 0.6s ease-out;
        }
        
        .animate-typewriter {
            overflow: hidden;
            border-right: 2px solid;
            white-space: nowrap;
            animation: typewriter 2s steps(40) 1s forwards, blinkCursor 1s infinite;
            width: 0;
        }
        
        .animate-bounceAvatar {
            animation: bounceAvatar 1.5s ease-in-out;
        }
        
        .animate-slideInFromLeft {
            animation: slideInFromLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .animate-slideInFromRight {
            animation: slideInFromRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .animate-messageTypewriter {
            overflow: hidden;
            animation: messageTypewriter 1.5s steps(30) forwards;
            width: 0;
            display: inline-block;
        }
        
        .animate-popIn {
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .animate-wiggle {
            animation: wiggle 0.5s ease-in-out;
        }
        
        .animate-floatUp {
            animation: floatUp 0.7s ease-out;
        }
        
        .animate-textReveal {
            animation: textReveal 0.6s ease-out;
        }
        
        .animate-avatarPulse {
            animation: avatarPulse 2s infinite;
        }
        
        .animate-messageSlideIn {
            animation: messageSlideIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .message-fade-in {
            animation: fadeInUp 0.5s ease-out;
        }
        
        .chat-bubble {
            transition: all 0.3s ease;
        }
        
        .chat-bubble:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .dark .chat-bubble:hover {
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
        }
        
        .upload-button {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .upload-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .upload-button:hover::before {
            left: 100%;
        }
        
        .message-container {
            perspective: 1000px;
        }
        
        .chat-bubble {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: bottom left;
        }
        
        .chat-bubble.ai-message {
            transform-origin: bottom left;
        }
        
        .chat-bubble.user-message {
            transform-origin: bottom right;
        }
        
        .chat-bubble:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .dark .chat-bubble:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
        }
        
        .avatar-container {
            transition: all 0.3s ease;
        }
        
        .avatar-container:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .typing-indicator {
            animation: floatUp 0.6s ease-out;
        }
        
        .input-area {
            transition: all 0.3s ease;
        }
        
        .input-area:focus-within {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        .dark .input-area:focus-within {
            box-shadow: 0 15px 35px rgba(255, 255, 255, 0.05);
        }
        
        .summarize-button {
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }
        
        .summarize-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .summarize-button:hover::before {
            left: 100%;
        }
        
        .summarize-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
        }
        
        .dark .summarize-button:hover {
            box-shadow: 0 12px 25px rgba(255, 255, 255, 0.15);
        }
        
        .summarize-button:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .summarize-button.loading {
            animation: pulse 1.5s infinite;
        }
        
        .summarize-button.loading .material-symbols-outlined {
            animation: rotate 1s linear infinite;
        }
        
        @keyframes summarizeSuccess {
            0% {
                background-color: var(--bg-color);
            }
            50% {
                background-color: #10b981;
                transform: scale(1.1);
            }
            100% {
                background-color: var(--bg-color);
                transform: scale(1);
            }
        }
        
        .summarize-button.success {
            animation: summarizeSuccess 0.8s ease-out;
        }
        
        .input-area {
            transition: all 0.3s ease;
        }
        
        .input-area:focus-within {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        .dark .input-area:focus-within {
            box-shadow: 0 15px 35px rgba(255, 255, 255, 0.05);
        }
        
        /* Chat History Styles */
        .chat-history-tab {
            transition: all 0.3s ease;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .chat-history-tab:hover {
            background-color: rgba(0, 0, 0, 0.05);
            transform: translateX(5px);
        }
        
        .dark .chat-history-tab:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .chat-history-tab.active {
            background-color: rgba(0, 0, 0, 0.1);
            border-left: 3px solid var(--primary);
        }
        
        .dark .chat-history-tab.active {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 3px solid var(--secondary);
        }
        
        .chat-history-container {
            max-height: calc(100vh - 300px);
            overflow-y: auto;
        }
        
        .chat-history-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-history-container::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chat-history-container::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 3px;
        }
        
        .dark .chat-history-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* AI Avatar Brain Icon */
        .ai-brain-icon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .dark .ai-brain-icon {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
    </style>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#000000",
                        "secondary": "#ffffff",
                        "background-light": "#ffffff",
                        "background-dark": "#000000", 
                        "text-light": "#000000",
                        "text-dark": "#ffffff",
                        "border-light": "#000000",
                        "border-dark": "#ffffff",
                        "card-light": "#ffffff",
                        "card-dark": "#000000",
                        "gray-light": "#f5f5f5",
                        "gray-dark": "#1a1a1a",
                        "accent": "#333333",
                        "accent-dark": "#cccccc",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark transition-colors duration-500">
<div class="relative flex h-screen w-full flex-col group/design-root overflow-hidden">
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-border-light dark:border-border-dark px-6 py-3 shrink-0 animate-slideInLeft">
<div class="flex items-center gap-3 text-text-light dark:text-text-dark">
<div class="size-6 text-primary dark:text-secondary transform hover:rotate-180 transition-transform duration-500">
<svg fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
</svg>
</div>
<h2 class="text-lg font-bold leading-tight tracking-[-0.015em]">DocuMind LM</h2>
</div>
<div class="flex flex-1 justify-end gap-2">
<button class="flex items-center justify-center rounded-lg h-10 px-4 hover:bg-gray-light dark:hover:bg-gray-dark text-text-light dark:text-text-dark transition-all duration-200 hover:scale-105" id="login-register-button">
<span class="material-symbols-outlined mr-2">person</span>
<span class="text-sm font-medium">Login/Register</span>
</button>
<button class="flex items-center justify-center rounded-lg h-10 px-4 hover:bg-gray-light dark:hover:bg-gray-dark text-text-light dark:text-text-dark transition-all duration-200 hover:scale-105 upload-button" id="upload-button">
<span class="material-symbols-outlined mr-2">upload_file</span>
<span class="text-sm font-medium">Upload New Document</span>
</button>
<button class="flex items-center justify-center rounded-lg h-10 w-10 hover:bg-gray-light dark:hover:bg-gray-dark text-accent dark:text-accent-dark transition-all duration-200 hover:scale-105">
<span class="material-symbols-outlined">settings</span>
</button>
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 border-2 border-border-light dark:border-border-dark transition-transform duration-200 hover:scale-110" data-alt="User profile picture with a colorful gradient" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDIQi_baiAawXCTu4v3UdK89rmORPTxV9F5CVAAiYaYOFBbGqmP9TrjhbzPdbOQ23UzzLMGcb9lyebKMjNzV3B034F4elx7lSyeSSfXtRbVCGm0dq2hNPNLL8jM8dhubtZrK02POo0h1yBfUukn5EoIB09mJV0JWGl3A2XrR_F9d8QosiLX1qxlpQTJgpaeL_jPEpPlaukNwQai4SlPU2x7Sv7crOcv-ZznkNH7-v0LxAdiIgLPQt2fjCW4wm2oAzqcKHc6tR-B3bTB");'></div>
</div>
</header>
<main class="flex h-full grow overflow-hidden">
<aside class="w-[380px] shrink-0 border-r border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6 flex flex-col gap-6 animate-slideInLeft">
<div class="flex min-w-72 flex-col gap-2">
<p class="text-2xl font-bold leading-tight tracking-[-0.03em] text-text-light dark:text-text-dark animate-typewriter">Annual Report 2023</p>
<p class="text-sm font-normal leading-normal text-accent dark:text-accent-dark animate-fadeInUp" style="animation-delay: 2.5s;">Q4_report_final.pdf</p>
</div>
<div class="flex flex-col gap-3 rounded-lg border border-border-light dark:border-border-dark p-4 bg-gray-light dark:bg-gray-dark h-full animate-fadeInUp" style="animation-delay: 3s;">
<h3 class="text-base font-semibold text-text-light dark:text-text-dark mb-2">Chat History</h3>
<div class="chat-history-container flex flex-col gap-2">
    <!-- Current Active Session -->
    <div class="chat-history-tab active p-3 cursor-pointer" onclick="loadChatSession('current')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Current Session</p>
                <p class="text-xs text-accent dark:text-accent-dark">Today, 2:45 PM</p>
            </div>
            <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">Q4 Financial Analysis...</p>
    </div>
    
    <!-- Previous Sessions -->
    <div class="chat-history-tab p-3 cursor-pointer" onclick="loadChatSession('session1')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Marketing Report Analysis</p>
                <p class="text-xs text-accent dark:text-accent-dark">Nov 5, 4:20 PM</p>
            </div>
            <span class="material-symbols-outlined text-accent dark:text-accent-dark" style="font-size: 16px;">description</span>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">Analyzed customer engagement metrics...</p>
    </div>
    
    <div class="chat-history-tab p-3 cursor-pointer" onclick="loadChatSession('session2')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Budget Proposal Review</p>
                <p class="text-xs text-accent dark:text-accent-dark">Nov 4, 11:15 AM</p>
            </div>
            <span class="material-symbols-outlined text-accent dark:text-accent-dark" style="font-size: 16px;">analytics</span>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">Reviewed departmental budget allocations...</p>
    </div>
    
    <div class="chat-history-tab p-3 cursor-pointer" onclick="loadChatSession('session3')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Technical Documentation</p>
                <p class="text-xs text-accent dark:text-accent-dark">Nov 3, 3:30 PM</p>
            </div>
            <span class="material-symbols-outlined text-accent dark:text-accent-dark" style="font-size: 16px;">code</span>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">API documentation review and analysis...</p>
    </div>
    
    <div class="chat-history-tab p-3 cursor-pointer" onclick="loadChatSession('session4')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Legal Contract Review</p>
                <p class="text-xs text-accent dark:text-accent-dark">Nov 2, 9:45 AM</p>
            </div>
            <span class="material-symbols-outlined text-accent dark:text-accent-dark" style="font-size: 16px;">gavel</span>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">Contract terms and conditions analysis...</p>
    </div>
    
    <div class="chat-history-tab p-3 cursor-pointer" onclick="loadChatSession('session5')">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm font-medium text-text-light dark:text-text-dark">Research Paper Summary</p>
                <p class="text-xs text-accent dark:text-accent-dark">Nov 1, 1:20 PM</p>
            </div>
            <span class="material-symbols-outlined text-accent dark:text-accent-dark" style="font-size: 16px;">science</span>
        </div>
        <p class="text-xs text-accent dark:text-accent-dark mt-1 truncate">Climate change research findings...</p>
    </div>
</div>
</div>
</aside>
<div class="flex flex-1 flex-col overflow-y-auto animate-slideInRight">
<!-- Chat Header with Summarize Button -->
<div class="sticky top-0 bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark p-4 flex justify-between items-center animate-slideInRight" style="animation-delay: 0.2s;">
<h2 class="text-lg font-semibold text-text-light dark:text-text-dark">Document Analysis</h2>
<button class="flex items-center justify-center gap-2 px-4 py-2 bg-primary dark:bg-secondary text-secondary dark:text-primary rounded-lg hover:bg-accent dark:hover:bg-accent-dark transition-all duration-300 hover:scale-105 hover:shadow-lg summarize-button" id="summarize-button">
<span class="material-symbols-outlined" style="font-size: 18px;">summarize</span>
<span class="text-sm font-medium">Summarize</span>
</button>
</div>
<div class="flex-grow p-6 space-y-6" id="chat-container">
<div class="flex items-end gap-3 message-container animate-slideInFromLeft">
<div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 bg-gray-light dark:bg-gray-dark p-1.5 border border-border-light dark:border-border-dark animate-avatarPulse ai-brain-icon" data-alt="AI assistant logo with a four-pointed star">
<svg class="text-text-light dark:text-text-dark" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
</svg>
</div>
<div class="flex flex-1 flex-col gap-1 items-start">
<p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] animate-textReveal" style="animation-delay: 0.5s;">DocuMind LM</p>
<div class="text-base font-normal leading-relaxed flex max-w-[500px] rounded-2xl px-4 py-3 bg-card-light dark:bg-card-dark text-text-light dark:text-text-dark shadow-sm border border-border-light dark:border-border-dark chat-bubble ai-message animate-popIn" style="animation-delay: 0.8s;">
<span class="animate-messageTypewriter" style="animation-delay: 1.2s;">Welcome! I've analyzed your document. What would you like to know?</span>
</div>
</div>
</div>
<div class="flex items-end gap-3 justify-end message-container animate-slideInFromRight" style="animation-delay: 2s;">
<div class="flex flex-1 flex-col gap-1 items-end">
<p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] text-right animate-textReveal" style="animation-delay: 2.3s;">You</p>
<div class="text-base font-normal leading-relaxed flex max-w-[500px] rounded-2xl px-4 py-3 bg-primary dark:bg-secondary text-secondary dark:text-primary shadow-sm chat-bubble user-message animate-popIn" style="animation-delay: 2.6s;">
<span class="animate-messageTypewriter" style="animation-delay: 3s;">What were the key financial highlights from Q4?</span>
</div>
</div>
<div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 border border-border-light dark:border-border-dark animate-bounceAvatar" style="animation-delay: 2.8s; background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB6spxxfDAx5JAit8nNuZNJFIY0ihhccjbUnp83VDZByCEGCZmTYDzFybZkyKEfLrju8h2AiY8XL7tshA0p2wLNPBs3Y8T809eYRipz7o1ZpDheQV1TFQthVSPJngjho1LgIL7SFEE3h67T8SAGLsvB7SAlfh4BZ43Q_PG0JhJArJT1meWePUHyDXf2IKbEynbFWDoNT1f1aofuADCKhR9aPnogRoN53OFRqEWFNQPvcgWPBb8g3xcEf3IXDtNv3M4dspNW1kZxcfex');"></div>
</div>
<div class="flex items-end gap-3 message-container animate-slideInFromLeft" style="animation-delay: 4s;">
<div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 bg-gray-light dark:bg-gray-dark p-1.5 border border-border-light dark:border-border-dark animate-wiggle ai-brain-icon" style="animation-delay: 4.2s;" data-alt="AI assistant logo with a four-pointed star">
<svg class="text-text-light dark:text-text-dark" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
</svg>
</div>
<div class="flex flex-1 flex-col gap-1 items-start">
<p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] animate-textReveal" style="animation-delay: 4.5s;">DocuMind LM</p>
<div class="flex max-w-[500px] rounded-2xl px-4 py-3 bg-card-light dark:bg-card-dark text-text-light dark:text-text-dark shadow-sm border border-border-light dark:border-border-dark chat-bubble ai-message typing-indicator animate-floatUp" style="animation-delay: 4.8s;">
<div class="flex items-center space-x-1">
<div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-1"></div>
<div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-2"></div>
<div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-3"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sticky bottom-0 bg-gradient-to-t from-background-light dark:from-background-dark to-transparent px-6 pb-6 pt-4 animate-fadeInUp input-area" style="animation-delay: 5.5s;">
<div class="relative">
<textarea class="w-full resize-none rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark py-3 pl-4 pr-14 text-base text-text-light dark:text-text-dark placeholder:text-accent dark:placeholder:text-accent-dark focus:ring-2 focus:ring-primary dark:focus:ring-secondary focus:border-primary dark:focus:border-secondary transition-all duration-300 shadow-sm" placeholder="Ask a question about your document..." rows="1" style="overflow-y: hidden;" id="chat-input"></textarea>
<button class="absolute right-2.5 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 rounded-lg bg-primary dark:bg-secondary text-secondary dark:text-primary hover:bg-accent dark:hover:bg-accent-dark transition-all duration-200 hover:scale-110 animate-wiggle" id="send-button" style="animation-delay: 6s;">
<span class="material-symbols-outlined" style="font-size: 20px;">arrow_upward</span>
</button>
</div>
</div>
</div>
</main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const uploadButton = document.getElementById('upload-button');
    const chatContainer = document.getElementById('chat-container');
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    
    let messageCounter = 0;
    
    // Upload button click handler
    uploadButton.addEventListener('click', () => {
        window.location.href = 'pdf upload.html';
    });
    
    // Login/Register button click handler
    const loginRegisterButton = document.getElementById('login-register-button');
    loginRegisterButton.addEventListener('click', () => {
        window.location.href = 'LoginRegister.html';
    });
    
    // Enhanced typing effect for textarea with animation
    let isTyping = false;
    
    chatInput.addEventListener('input', function() {
        if (!isTyping && this.value.length > 0) {
            isTyping = true;
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
            
            // Add typing animation to input area
            this.parentElement.parentElement.classList.add('typing-active');
        } else if (this.value.length === 0) {
            isTyping = false;
            this.style.height = 'auto';
            this.parentElement.parentElement.classList.remove('typing-active');
        }
    });
    
    // Send message functionality with animations
    function sendMessage() {
        const messageText = chatInput.value.trim();
        if (messageText === '') return;
        
        // Create user message with animation
        createMessage(messageText, 'user', () => {
            chatInput.value = '';
            chatInput.style.height = 'auto';
            isTyping = false;
            chatInput.parentElement.parentElement.classList.remove('typing-active');
            
            // Simulate AI response after delay
            setTimeout(() => {
                showTypingIndicator();
                setTimeout(() => {
                    hideTypingIndicator();
                    createAIResponse();
                }, 2000 + Math.random() * 1000);
            }, 500);
        });
    }
    
    // Create animated message
    function createMessage(text, sender, callback) {
        messageCounter++;
        const isUser = sender === 'user';
        const messageContainer = document.createElement('div');
        messageContainer.className = `flex items-end gap-3 message-container ${isUser ? 'justify-end animate-slideInFromRight' : 'animate-slideInFromLeft'}`;
        
        const messageHTML = `
            ${!isUser ? `
            <div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 bg-gray-light dark:bg-gray-dark p-1.5 border border-border-light dark:border-border-dark animate-bounceAvatar ai-brain-icon">
                <svg class="text-text-light dark:text-text-dark" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
                </svg>
            </div>` : ''}
            <div class="flex flex-1 flex-col gap-1 items-${isUser ? 'end' : 'start'}">
                <p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] ${isUser ? 'text-right' : ''} animate-textReveal" style="animation-delay: 0.3s;">${isUser ? 'You' : 'DocuMind LM'}</p>
                <div class="text-base font-normal leading-relaxed flex max-w-[500px] rounded-2xl ${isUser ? 'rounded-br-none' : 'rounded-bl-none'} px-4 py-3 ${isUser ? 'bg-primary dark:bg-secondary text-secondary dark:text-primary' : 'bg-card-light dark:bg-card-dark text-text-light dark:text-text-dark border border-border-light dark:border-border-dark'} shadow-sm chat-bubble ${isUser ? 'user-message' : 'ai-message'} animate-popIn" style="animation-delay: 0.6s;">
                    <span class="animate-messageTypewriter" style="animation-delay: 0.9s;">${text}</span>
                </div>
            </div>
            ${isUser ? `
            <div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 border border-border-light dark:border-border-dark animate-bounceAvatar" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB6spxxfDAx5JAit8nNuZNJFIY0ihhccjbUnp83VDZByCEGCZmTYDzFybZkyKEfLrju8h2AiY8XL7tshA0p2wLNPBs3Y8T809eYRipz7o1ZpDheQV1TFQthVSPJngjho1LgIL7SFEE3h67T8SAGLsvB7SAlfh4BZ43Q_PG0JhJArJT1meWePUHyDXf2IKbEynbFWDoNT1f1aofuADCKhR9aPnogRoN53OFRqEWFNQPvcgWPBb8g3xcEf3IXDtNv3M4dspNW1kZxcfex');"></div>` : ''}
        `;
        
        messageContainer.innerHTML = messageHTML;
        
        // Remove existing typing indicator if present
        const existingTyping = chatContainer.querySelector('.typing-message');
        if (existingTyping) {
            existingTyping.remove();
        }
        
        chatContainer.appendChild(messageContainer);
        
        // Smooth scroll to bottom with animation
        setTimeout(() => {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 100);
        
        // Trigger callback after animation completes
        if (callback) {
            setTimeout(callback, 1500);
        }
    }
    
    // Show typing indicator
    function showTypingIndicator() {
        const typingContainer = document.createElement('div');
        typingContainer.className = 'flex items-end gap-3 message-container animate-slideInFromLeft typing-message';
        
        typingContainer.innerHTML = `
            <div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 bg-gray-light dark:bg-gray-dark p-1.5 border border-border-light dark:border-border-dark animate-wiggle ai-brain-icon">
                <svg class="text-text-light dark:text-text-dark" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
                </svg>
            </div>
            <div class="flex flex-1 flex-col gap-1 items-start">
                <p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] animate-textReveal">DocuMind LM</p>
                <div class="flex max-w-[500px] rounded-2xl rounded-bl-none px-4 py-3 bg-card-light dark:bg-card-dark text-text-light dark:text-text-dark shadow-sm border border-border-light dark:border-border-dark chat-bubble ai-message typing-indicator animate-floatUp">
                    <div class="flex items-center space-x-1">
                        <div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-1"></div>
                        <div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-2"></div>
                        <div class="size-2 bg-accent dark:bg-accent-dark rounded-full animate-pulse-dot-3"></div>
                    </div>
                </div>
            </div>
        `;
        
        chatContainer.appendChild(typingContainer);
        setTimeout(() => {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 100);
    }
    
    // Hide typing indicator
    function hideTypingIndicator() {
        const typingMessage = chatContainer.querySelector('.typing-message');
        if (typingMessage) {
            typingMessage.style.animation = 'fadeInUp 0.3s ease-out reverse';
            setTimeout(() => {
                typingMessage.remove();
            }, 300);
        }
    }
    
    // Generate AI responses
    function createAIResponse() {
        const responses = [
            "Based on the Q4 report, revenue increased by 15% compared to the previous quarter, driven by strong performance in our core business segments.",
            "The document shows significant improvements in operational efficiency, with cost reductions of 8% while maintaining quality standards.",
            "Key financial highlights include a 12% increase in net profit margin and successful expansion into three new markets.",
            "The report indicates strong cash flow generation, with free cash flow reaching $2.3 billion, up 18% year-over-year.",
            "Customer satisfaction scores improved to 94%, reflecting our continued focus on service excellence and innovation."
        ];
        
        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        createMessage(randomResponse, 'ai');
    }
    
    // Send button click handler
    sendButton.addEventListener('click', sendMessage);
    
    // Enter key handler
    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });
    
    // Add hover effects to existing messages
    function addInteractiveEffects() {
        const chatBubbles = document.querySelectorAll('.chat-bubble');
        chatBubbles.forEach(bubble => {
            bubble.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px) scale(1.02)';
            });
            
            bubble.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
        
        const avatars = document.querySelectorAll('.avatar-container');
        avatars.forEach(avatar => {
            avatar.addEventListener('click', function() {
                this.classList.add('animate-wiggle');
                setTimeout(() => {
                    this.classList.remove('animate-wiggle');
                }, 500);
            });
        });
    }
    
    // Initialize interactive effects
    setTimeout(addInteractiveEffects, 6000);
    
    // Summarize button functionality
    const summarizeButton = document.getElementById('summarize-button');
    summarizeButton.addEventListener('click', function() {
        // Add loading state
        this.classList.add('loading');
        this.disabled = true;
        
        const originalText = this.querySelector('span:last-child').textContent;
        this.querySelector('span:last-child').textContent = 'Summarizing...';
        
        // Simulate summarization process
        setTimeout(() => {
            // Remove loading state and add success animation
            this.classList.remove('loading');
            this.classList.add('success');
            this.querySelector('span:last-child').textContent = 'Complete!';
            
            // Create summarization message from AI
            createMessage("Here's a comprehensive summary of your document:\n\nðŸ“Š **Key Financial Highlights:**\nâ€¢ Revenue increased 15% in Q4\nâ€¢ Net profit margin improved by 12%\nâ€¢ Free cash flow reached $2.3B (+18% YoY)\n\nðŸŽ¯ **Operational Excellence:**\nâ€¢ Cost reductions of 8% achieved\nâ€¢ Customer satisfaction at 94%\nâ€¢ Expanded into 3 new markets\n\nðŸ’¡ **Strategic Outlook:**\nâ€¢ Strong market position maintained\nâ€¢ Innovation pipeline robust\nâ€¢ Sustainability initiatives on track", 'ai');
            
            // Reset button after animation
            setTimeout(() => {
                this.classList.remove('success');
                this.querySelector('span:last-child').textContent = originalText;
                this.disabled = false;
            }, 2000);
            
        }, 3000); // 3 second delay to simulate processing
    });
    
    // Auto-scroll to bottom with smooth animation
    const chatArea = document.querySelector('.flex-grow');
    setTimeout(() => {
        chatArea.scrollTop = chatArea.scrollHeight;
    }, 100);
    
    // Dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
        document.documentElement.classList.add('dark');
    }
    
    // Add CSS for additional interactive states
    const style = document.createElement('style');
    style.textContent = `
        .typing-active {
            transform: translateY(-8px) !important;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
        }
        
        .dark .typing-active {
            box-shadow: 0 20px 40px rgba(255, 255, 255, 0.1) !important;
        }
        
        .message-container:hover .avatar-container {
            transform: scale(1.15) rotate(10deg);
        }
        
        .chat-bubble:active {
            transform: translateY(-1px) scale(0.98);
        }
        
        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .new-message {
            animation: messageAppear 0.5s ease-out;
        }
    `;
    document.head.appendChild(style);
    
    // Chat History Session Management
    const chatSessions = {
        current: {
            title: "Current Session - Q4 Financial Analysis",
            messages: [
                { sender: 'ai', text: "Welcome! I've analyzed your document. What would you like to know?" },
                { sender: 'user', text: "What were the key financial highlights from Q4?" }
            ]
        },
        session1: {
            title: "Marketing Report Analysis",
            messages: [
                { sender: 'ai', text: "I've analyzed your marketing report. The data shows interesting customer engagement trends." },
                { sender: 'user', text: "What were the top performing campaigns?" },
                { sender: 'ai', text: "Based on the analysis, the social media campaigns had a 34% higher engagement rate, with email marketing showing a 28% conversion improvement." },
                { sender: 'user', text: "Which demographics responded best?" },
                { sender: 'ai', text: "The 25-34 age group showed the highest engagement at 42%, followed by 35-44 at 31%. Mobile users accounted for 67% of total interactions." }
            ]
        },
        session2: {
            title: "Budget Proposal Review",
            messages: [
                { sender: 'ai', text: "I've reviewed your budget proposal document. The allocation strategy looks comprehensive." },
                { sender: 'user', text: "Are there any areas where we can optimize spending?" },
                { sender: 'ai', text: "Yes, I identified 3 key optimization opportunities: Marketing spend can be reallocated for 15% better ROI, IT infrastructure costs can be reduced by 12% through cloud migration, and administrative expenses show potential for 8% savings." },
                { sender: 'user', text: "What about the R&D budget?" },
                { sender: 'ai', text: "The R&D allocation of 18% is well-balanced. However, I recommend increasing the innovation fund by 3% to accelerate product development timelines." }
            ]
        },
        session3: {
            title: "Technical Documentation",
            messages: [
                { sender: 'ai', text: "I've analyzed your API documentation. The structure is well-organized with clear endpoint definitions." },
                { sender: 'user', text: "Are there any missing sections or unclear explanations?" },
                { sender: 'ai', text: "The documentation covers all major endpoints well. I'd suggest adding more code examples for the authentication flow and error handling scenarios. Also, the rate limiting section could benefit from clearer examples." },
                { sender: 'user', text: "What about security best practices?" },
                { sender: 'ai', text: "The security section is comprehensive. It properly covers OAuth 2.0 implementation, API key management, and HTTPS requirements. Consider adding information about request signing and webhook security." }
            ]
        },
        session4: {
            title: "Legal Contract Review",
            messages: [
                { sender: 'ai', text: "I've reviewed your legal contract. The terms and conditions are clearly structured." },
                { sender: 'user', text: "Are there any potential risk areas I should be aware of?" },
                { sender: 'ai', text: "I identified several areas for attention: The liability clause in Section 7.3 may need refinement, intellectual property rights should be more explicit in Section 12, and the termination conditions could benefit from clearer timelines." },
                { sender: 'user', text: "What about the payment terms?" },
                { sender: 'ai', text: "Payment terms in Section 4 are standard. The 30-day payment window is reasonable, and late fee structure at 1.5% monthly is within industry norms. Consider adding specific currency and payment method clauses." }
            ]
        },
        session5: {
            title: "Research Paper Summary",
            messages: [
                { sender: 'ai', text: "I've analyzed your climate change research paper. The methodology and findings are well-documented." },
                { sender: 'user', text: "What are the key findings regarding temperature changes?" },
                { sender: 'ai', text: "The research shows a 1.2Â°C average temperature increase over the past decade, with Arctic regions experiencing 2.3Â°C increases. The data indicates accelerating warming trends, particularly in coastal areas." },
                { sender: 'user', text: "What solutions does the paper propose?" },
                { sender: 'ai', text: "The paper outlines several mitigation strategies: renewable energy adoption could reduce emissions by 40%, carbon capture technology shows promise for 25% reduction, and policy changes in transportation could contribute another 20% decrease." }
            ]
        }
    };
    
    // Function to load a specific chat session
    window.loadChatSession = function(sessionId) {
        // Update active tab styling
        document.querySelectorAll('.chat-history-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        event.target.closest('.chat-history-tab').classList.add('active');
        
        // Clear current chat container
        chatContainer.innerHTML = '';
        
        // Load session messages
        const session = chatSessions[sessionId];
        if (session) {
            // Update document title if needed
            const docTitle = document.querySelector('aside p:first-child');
            if (sessionId === 'current') {
                docTitle.textContent = 'Annual Report 2023';
            } else {
                docTitle.textContent = session.title;
            }
            
            // Add messages with animation delays
            session.messages.forEach((message, index) => {
                setTimeout(() => {
                    const messageContainer = document.createElement('div');
                    const isUser = message.sender === 'user';
                    messageContainer.className = `flex items-end gap-3 message-container ${isUser ? 'justify-end animate-slideInFromRight' : 'animate-slideInFromLeft'}`;
                    
                    const messageHTML = `
                        ${!isUser ? `
                        <div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 bg-gray-light dark:bg-gray-dark p-1.5 border border-border-light dark:border-border-dark animate-bounceAvatar ai-brain-icon">
                            <svg class="text-text-light dark:text-text-dark" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 4C25.7818 14.2173 33.7827 22.2182 44 24C33.7827 25.7818 25.7818 33.7827 24 44C22.2182 33.7827 14.2173 25.7818 4 24C14.2173 22.2182 22.2182 14.2173 24 4Z" fill="currentColor"></path>
                            </svg>
                        </div>` : ''}
                        <div class="flex flex-1 flex-col gap-1 items-${isUser ? 'end' : 'start'}">
                            <p class="text-accent dark:text-accent-dark text-sm font-medium leading-normal max-w-[500px] ${isUser ? 'text-right' : ''} animate-textReveal">${isUser ? 'You' : 'DocuMind LM'}</p>
                            <div class="text-base font-normal leading-relaxed flex max-w-[500px] rounded-2xl ${isUser ? 'rounded-br-none' : 'rounded-bl-none'} px-4 py-3 ${isUser ? 'bg-primary dark:bg-secondary text-secondary dark:text-primary' : 'bg-card-light dark:bg-card-dark text-text-light dark:text-text-dark border border-border-light dark:border-border-dark'} shadow-sm chat-bubble ${isUser ? 'user-message' : 'ai-message'} animate-popIn">
                                <span>${message.text}</span>
                            </div>
                        </div>
                        ${isUser ? `
                        <div class="avatar-container bg-center bg-no-repeat aspect-square bg-cover rounded-full w-8 shrink-0 border border-border-light dark:border-border-dark animate-bounceAvatar" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB6spxxfDAx5JAit8nNuZNJFIY0ihhccjbUnp83VDZByCEGCZmTYDzFybZkyKEfLrju8h2AiY8XL7tshA0p2wLNPBs3Y8T809eYRipz7o1ZpDheQV1TFQthVSPJngjho1LgIL7SFEE3h67T8SAGLsvB7SAlfh4BZ43Q_PG0JhJArJT1meWePUHyDXf2IKbEynbFWDoNT1f1aofuADCKhR9aPnogRoN53OFRqEWFNQPvcgWPBb8g3xcEf3IXDtNv3M4dspNW1kZxcfex');"></div>` : ''}
                    `;
                    
                    messageContainer.innerHTML = messageHTML;
                    chatContainer.appendChild(messageContainer);
                    
                    // Scroll to bottom after each message
                    setTimeout(() => {
                        chatContainer.scrollTop = chatContainer.scrollHeight;
                    }, 100);
                    
                }, index * 300); // Stagger message appearance
            });
            
            // Re-initialize interactive effects after loading
            setTimeout(() => {
                addInteractiveEffects();
            }, session.messages.length * 300 + 500);
        }
    };
});
</script>
</body></html>